pico-8 cartridge // http://www.pico-8.com
version 29
__lua__

-- global variables
#include colors.lua
#include alarms.lua
c = LIGHT_GREEN

function _init()
    -- setup game / declare global variables
	cls(BLACK)
    alarm0 = makeAlarm(90, changeColor)
end

function _update()
    -- update game
    updateAlarms()
end

function _draw()
    -- draw game
    cls(0)
    if c == RED then
        circfill(20, 20, 20, RED)
    elseif c == LIGHT_GREEN then
        circfill(20, 100, 20, LIGHT_GREEN)
    else
        circfill(20, 60, 20, YELLOW)
    end
    rect(0, 0, 40, 120, WHITE)
    circ(20, 20, 20)
    circ(20, 60, 20)
    circ(20, 100, 20)
end

function changeColor()
    print(c)
    if c == RED then
        c = LIGHT_GREEN
        startAlarm(150, alarm0)
    elseif c == LIGHT_GREEN then
        c = YELLOW
        startAlarm(60, alarm0)
    else
        c = RED
        startAlarm(90, alarm0)
    end
end

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
